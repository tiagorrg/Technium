import{page,server}from"@vitest/browser/context";import{g as getByTitleSelector,a as getByTextSelector,b as getByPlaceholderSelector,c as getByAltTextSelector,d as getByTestIdSelector,e as getByRoleSelector,f as getByLabelSelector}from"../public-utils-xf4CCUzp.js";import{s as selectorEngine,L as Locator,p as processTimeoutOptions,g as getBrowserState,a as getIframeScale}from"../index-DjDyxzt8.js";import"vitest/utils";page.extend({getByLabelText(e,v){return new PlaywrightLocator(getByLabelSelector(e,v))},getByRole(e,v){return new PlaywrightLocator(getByRoleSelector(e,v))},getByTestId(e){return new PlaywrightLocator(getByTestIdSelector(server.config.browser.locators.testIdAttribute,e))},getByAltText(e,v){return new PlaywrightLocator(getByAltTextSelector(e,v))},getByPlaceholder(e,v){return new PlaywrightLocator(getByPlaceholderSelector(e,v))},getByText(e,v){return new PlaywrightLocator(getByTextSelector(e,v))},getByTitle(e,v){return new PlaywrightLocator(getByTitleSelector(e,v))},elementLocator(e){return new PlaywrightLocator(selectorEngine.generateSelectorSimple(e),e)}});class PlaywrightLocator extends Locator{constructor(e,v){super(),this.selector=e,this._container=v}click(e){return super.click(processTimeoutOptions(processClickOptions(e)))}dblClick(e){return super.dblClick(processTimeoutOptions(processClickOptions(e)))}tripleClick(e){return super.tripleClick(processTimeoutOptions(processClickOptions(e)))}selectOptions(e,v){return super.selectOptions(e,processTimeoutOptions(v))}clear(e){return super.clear(processTimeoutOptions(e))}hover(e){return super.hover(processTimeoutOptions(processHoverOptions(e)))}upload(e,v){return super.upload(e,processTimeoutOptions(v))}fill(e,v){return super.fill(e,processTimeoutOptions(v))}dropTo(e,v){return super.dropTo(e,processTimeoutOptions(processDragAndDropOptions(v)))}locator(e){return new PlaywrightLocator(`${this.selector} >> ${e}`,this._container)}elementLocator(e){return new PlaywrightLocator(selectorEngine.generateSelectorSimple(e),e)}}function processDragAndDropOptions(e){if(!e||!getBrowserState().config.browser.ui)return e;let v=e;return v.sourcePosition&&=processPlaywrightPosition(v.sourcePosition),v.targetPosition&&=processPlaywrightPosition(v.targetPosition),e}function processHoverOptions(e){if(!e||!getBrowserState().config.browser.ui)return e;let v=e;return v.position&&=processPlaywrightPosition(v.position),e}function processClickOptions(e){if(!e||!getBrowserState().config.browser.ui)return e;let v=e;return v.position&&=processPlaywrightPosition(v.position),v}function processPlaywrightPosition(e){let v=getIframeScale();return e.x!=null&&(e.x*=v),e.y!=null&&(e.y*=v),e}
